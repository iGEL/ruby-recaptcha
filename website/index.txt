h1. recaptcha

h1. &#x2192; 'recaptcha'


h2. What


h2. Installing

<pre syntax="ruby">sudo gem install recaptcha</pre>
or 
<pre>
  gem install --source http://www.loonsoft.com/recaptcha/pkg recaptcha
</pre>

h2. The basics

The ReCaptchaClient abstracts the ReCaptcha API for use in Rails Applications


h2. Demonstration of usage

h3. reCAPTCHA

First, create an account at "ReCaptcha.net":http://www.recaptcha.net.

Then, require and include the gem into your application.rb, 
<pre>
gem 'recaptcha'
class ApplicationController < ActionController::Base
  include ReCaptcha::AppHelper
</pre>
 This will mix in validate_recap to your application controller.


Then, in your concrete controller, chain validate_recap into your validation:
<pre>
  def create
      @user = User.new(params[:user])
      if validate_recap(params, @user.errors){|result| @user.errors.add_to_base("error message") if result == 'true'} && @user.save
             ...do stuff...
</pre>


Note that you can set your own custom validation message by passing a block to validate_recap. The block will be passed the result of the call to the reCaptcha service (either 'true' or 'false').



Include the view helper in your application_helper: 
<pre>include ReCaptcha::ViewHelper</pre> 
This will mix in get_captcha().

Now you can just call <pre>get_captcha()</pre> in your view to insert the requisite widget from ReCaptcha

h3. Mail Hide

When you mix in ViewHelper as above, you also get <pre> mail_hide(address, contents)</pre>, which you can call in your view thusly:

<pre>
  ...
  <%= mail_hide(user.email) %>
</pre>

Contents defaults to the first few characters of the email address.

h2. Forum

"http://groups.google.com/group/recaptcha":http://groups.google.com/group/recaptcha

h2. Code

Get it "here":http://hg.loonsoft.com/hg/recaptcha.master

You'll want "Mercurial":http://www.selenic.com/mercurial

h2. License

This code is free to use under the terms of the MIT License.

h2. Contact

Comments are welcome. Send an email to "McClain Looney":mailto:mlooney@gmail.com.
